{"version":3,"sources":["script.js"],"names":["books","title","author","genre","pages","status","formElement","document","querySelector","listElement","addButton","handleBookList","e","html","map","book","join","innerHTML","newBook","handleAddBtn","preventDefault","form","target","bookTitle","value","bookAuthor","bookGenre","bookPages","numbers","bookStatus","myBook","id","Date","now","push","console","info","length","reset","dispatchEvent","CustomEvent","displayList","myHtml","insertAdjacentHTML","mirrorToLocalStorage","local","JSON","stringify","localStorage","setItem","restoreFromLocalStorage","lsBooks","parse","getItem","deleteBtn","event","classList","contains","deleteButton","closest","remove","markAsRead","log","bookRef","find","item","addEventListener","Number","matches"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["\r\n// Create an object that contain 3 arrays of books\r\nconst books = [\r\n    {\r\n        title: 'Harry Porter',\r\n        author: 'Ally',\r\n        genre: 'Romence',\r\n        pages: 200,\r\n        status: true,\r\n    },\r\n    {\r\n        title: 'Twilight',\r\n        author: 'Edward',\r\n        genre: 'Horor',\r\n        pages: 400,\r\n        status: false,\r\n    },\r\n    {\r\n        title: 'Kira-Kira',\r\n        author: 'Nicola',\r\n        genre: 'Thriller',\r\n        pages: 300,\r\n        status: true,\r\n    }\r\n]\r\n\r\n//Variables\r\nconst formElement = document.querySelector('.book_form');\r\nconst listElement = document.querySelector('.book_list');\r\nconst addButton = document.querySelector('.addbtn');\r\n\r\n// Map through them to access thier value\r\nconst handleBookList = e => {\r\n    const html = books.map(\r\n        book => `\r\n            <li class=\"list_items\">\r\n                <p class=\"title\">${book.title}</p>\r\n                <p class=\"author\">${book.author}</p>\r\n                <p class=\"genre\">${book.genre}</p>\r\n                <p class=\"pages\">${book.pages}</p>\r\n                <input type=\"checkbox\" class=\"checkbox\" ${book.status ? 'checked' : ''}>\r\n                <button class=\"delete\"></button>\r\n            </li>\r\n        `).join('');\r\n    listElement.innerHTML = html;\r\n}; handleBookList();\r\n\r\n//Add a new book form the input value\r\nconst newBook =[];\r\nconst handleAddBtn = e => {\r\n    e.preventDefault();\r\n    const form = e.target;\r\n    const bookTitle = form.title.value;\r\n    const bookAuthor = form.author.value;\r\n    const bookGenre = form.genre.value;\r\n    const bookPages = form.numbers.value;\r\n    const bookStatus = form.status.value;\r\n    \r\n    const myBook = {\r\n        title: bookTitle,\r\n        author: bookAuthor,\r\n        genre: bookGenre,\r\n        pages: bookPages,\r\n        status: bookStatus,\r\n        id: Date.now(),\r\n    }\r\n    newBook.push(myBook);\r\n    console.info(`There are now ${newBook.length} in your state`);\r\n    e.target.reset();\r\n    listElement.dispatchEvent(new CustomEvent('booksUpdated'));\r\n}\r\n\r\n//New book list from the value of the form\r\nconst displayList = e => {\r\n    const myHtml = newBook.map(\r\n        book => `\r\n            <li class=\"list_items\">\r\n                <p class=\"title\">${book.title}</p>\r\n                <p class=\"author\">${book.author}</p>\r\n                <p class=\"genre\">${book.genre}</p>\r\n                <p class=\"pages\">${book.pages}</p>\r\n                <input type=\"checkbox\" class=\"checkbox\" ${book.status === 'read' ? 'checked' : ''}>\r\n                <button value=\"${book.id}\" class=\"delete\"></button>\r\n            </li>\r\n        `).join('');\r\n    listElement.insertAdjacentHTML('beforeend', myHtml);\r\n} \r\n\r\n// 4-a Create a custom event to store the list of books in the Local Storage\r\n\r\nconst mirrorToLocalStorage = () => {\r\n    console.info('Keep the list appear');\r\n    const local = JSON.stringify(newBook);\r\n    localStorage.setItem('books', local);\r\n}\r\n\r\n//When a user come back to the app with the same browser, they should see the same book list as it was, before they left the app. Save the current book list to your browser's Local Storage.\r\n\r\nconst restoreFromLocalStorage = () => {\r\n    console.info('restoring from LS');\r\n    const lsBooks = JSON.parse(localStorage.getItem('books'));\r\n    //check if there is something inside local storage\r\n    if (lsBooks) {\r\n        newBook.push(...lsBooks);\r\n    }\r\n    listElement.dispatchEvent(new CustomEvent('booksUpdated'));\r\n};\r\n\r\n//Delete button to delete the array from the list\r\nconst deleteBtn = event => {\r\n    if (event.target.classList.contains('delete')) {\r\n        const deleteButton = event.target;\r\n        deleteButton.closest('.list_items').remove();\r\n    }\r\n};\r\n\r\n//Change the status if the book has been read or not.\r\nconst markAsRead = (id) => {\r\n    console.log('read', id);\r\n    const bookRef = newBook.find(item => item.id === id);\r\n    bookRef.status = !bookRef.status;\r\n    listElement.dispatchEvent(new CustomEvent('booksUpdated'));\r\n};\r\n\r\n// EVENT LISTENERS\r\nformElement.addEventListener('submit', handleAddBtn);\r\nlistElement.addEventListener('booksUpdated', displayList);\r\nlistElement.addEventListener('booksUpdated', mirrorToLocalStorage);\r\n//window.addEventListener('DOMContentLoaded', handleBookList);\r\n\r\nlistElement.addEventListener('click', deleteBtn);\r\n\r\n// const deleteBtn = id => {\r\n//     console.log('this deletes', id);\r\n//     newBook = newBook.filter(book => book.id !== id);\r\n//     listElement.dispatchEvent(new CustomEvent('booksUpdated'));\r\n// }\r\n\r\n\r\nlistElement.addEventListener('click', function(e) {\r\n    const id = Number(e.target.value);\r\n    // if (e.target.matches('button.delete')) {\r\n    //     deleteBtn(id);\r\n    // }\r\n    if (e.target.matches('input[type=\"checkbox\"]')) {\r\n        markAsRead(id);\r\n    }\r\n    console.log(id);\r\n})\r\n\r\nrestoreFromLocalStorage();"]}